## axios 라이브러리 이용
외부 라이브러리이기 때문에
터미널 -> npm install axios

과정
1. 터미널에서 npm install axios
2. axois를 사용하기 전에 리액트 컴포넌트 상에서
```tsx
import axios from 'axios';
```
axios 라이브러리에는 JSON 데이터의 자동 변환 등의 이점이 있어 금요일에 수업했던 것처럼 response.json() 메서드를 호출할 필요가 없습니다.

```tsx
axios.get('http://someapi.com')
.then(response => console.log(response))
.catch(error => console.log(error));
```
이상의 코드는 fetch를 사용한 .then() 구분과 비교할 것(금요일에 수업했습니다).

axios 라이브러리에는 HTTP 메서드를 호출하는 _전용 메서드_ 가 있습니다.
예를 들어 POST 요청을 하고, 요청 본문에 객체를 전송하려는 경우 axios.post()를 사용합니다.

```tsx
axios.post('http://someapi.com', { newObject })   // 전송하고자 하는 객체
.then(response => console.log(response))
.catch(error => console.log(error));
```
혹은 axios() _함수_ 를 이용하는 방법(axios.post()는 post 메서드입니다. python에서 배운 것처럼 점 찍고 작성하는지 아닌지에 따라 function / method의 구분이 일어난다는 점 명심하세요).

print("여기에 뭐 쓰면 콘솔에 출력돼었습니다.")
객체명.메서드명()
배열명.map(callback함수)

axios 함수 사용 예시
```tsx
const response => await axios({
  method: 'POST',
  url: 'https://myapi.con/api/cars',
  headers: { 'Content-Type': 'application/json' },
  data: { brand: 'Ford', model: 'Ranger' },
});
```

위의 예시 코드는 https://myapi.com/api/cars 엔드포인트로 POST 요청을 보냅니다. 요청 본문에는 객체가 포함되고, Axios 라이브러리는 자동으로 데이터를 문자열화(stringify)합니다(JSON 문자열 데이터로 만들어준다는 의미입니다, 그래서 postman에서는 전체 JSON으로 작성했는데, 여기서는 JS 객처 형태로 작성한겁니다).

# OpenWeather API
날씨를 보여주는 리액트 앱을 만들겁니다.
온도, 설명, 날씨 아이콘을 포함시킬 거고, 데이터는 
https://openweathermap.org/ 에서 가져올겁니다
처음하는 외부 데이터 수집 및 가공이 될 예정입니다.

헤더에 APi -> 링크 중에 sign up 선택하신 후에 create a new account 창을 통해서 회원가입하고, sigin in까지 완료

우측에 계정 클릭해서 my API keys 들어가서 Key가 있는지 확인.

App.jsx가 초기화되었다고 가정한 상태에서 진행합니다.
날씨 응답 데이터를 저장하는 데 필요한 상태를 추가할겁니다. 앱에 온도, 설명, 날씨 아이콘을 표시할거기 때문에, 저희가 수업한 방식 중 객체를 통해 상태 전체를 통제하겠습니다.

firstName / lastName / email이 아니라
user로 작성했던 

```tsx
import './App.css'

function App() {
  const [ weather, setWeather ] = useState({
    temp: '', 
    desc: '', 
    icon: ''
  });

  return (
    <>
      
    </>
  )
}

export default App
```

2. REST API를 이용하는 경우에 응답을 검사하여 JSON 데이터의 포맷을 확인해봐야합니다. 예를들어
https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=여러분apikey   

```json
{
  "coord": {
    "lon": 129.0403,
    "lat": 35.1028
  },
  "weather": [
    {
      "id": 800,
      "main": "Clear",
      "description": "clear sky",
      "icon": "01d"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 292.14,
    "feels_like": 291.74,
    "temp_min": 292.14,
    "temp_max": 292.14,
    "pressure": 1019,
    "humidity": 63,
    "sea_level": 1019,
    "grnd_level": 1014
  },
  "visibility": 10000,
  "wind": {
    "speed": 1.54,
    "deg": 230
  },
  "clouds": {
    "all": 0
  },
  "dt": 1748221606,
  "sys": {
    "type": 1,
    "id": 8086,
    "country": "KR",
    "sunrise": 1748204013,
    "sunset": 1748255309
  },
  "timezone": 32400,
  "id": 1838524,
  "name": "Busan",
  "cod": 200
}
```
브라우저 상의 응답 데이터를 확인했을 때 main.temp를 이용하면 온도를 조회할 수 있고, 
weather[0].description과 weather[0].icon을 통해서 각각 설명과 아이콘을 조회할 수 있습니다.

3. 이제 저희는 useEffect를 사용할건데, useEffect()는 상태의 변화에 따라서 렌더링을 할 것인가 말것인가를 지정할 수 있다고 했습니다.

최초 렌더링 시에만 api를 참조하고 싶다면 어떻게 작성했었는지 떠올릴 필요가 있습니다.

```json
import React, { useState, useEffect } from 'react';
import './App.css'

function App() {
  const [ weather, setWeather ] = useState({
    temp: '', 
    desc: '', 
    icon: ''
  });

  useEffect(() => {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=a8620cf3cb7e1a978320434f79cc3b40')
    .then(response => response.json())
    .then(result => {
      setWeather({
        temp: result.main.temp,
        desc: result.weather[0].description,
        icon: result.weather[0].icon
      });
    })
    .catch(error => console.error(error));
  }, []);

  return (
    <>
      
    </>
  )
}

export default App
```

이상을 작성하고 나서 개발자 도구 상에서 components 탭을 확인해보시면(이거 리액트 개발자도구입니다), weather객체에 값이 들어가있는 것을 확인할 수 있습니다.
이는 최초 렌더링이 일어났을 때 바로 setWeather 함수가 실행되기 때문입니다. 이해가 어렵다면 useEffect 개념을 다시 학습하시길 바랍니다.

weather 객체에 값이 정확하게 들어가있는 것을 확인했지만, 브라우저 상에서는 아무것도 보이지 않습니다.
return 문이 `<></>` 상태이기 때문입니다.